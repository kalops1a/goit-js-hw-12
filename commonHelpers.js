import{a as w,S as C,i as c}from"./assets/vendor-e7786203.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}})();async function y(r,o,i=1){const e=`https://pixabay.com/api/?key=${o}&q=${r}&image_type=photo&orientation=horizontal&safesearch=true&page=${i}&per_page=40`;try{return(await w.get(e)).data}catch(t){throw new Error(`An error occurred while fetching data: ${t.message}`)}}let u;function f(r){const o=document.getElementById("gallery");r.forEach(n=>{const e=document.createElement("a");e.classList.add("image-container"),e.href=n.largeImageURL;const t=document.createElement("img");t.src=n.webformatURL,t.alt=n.tags;const s=document.createElement("div");s.classList.add("info-container"),s.innerHTML=`
            <p class="info-item">Likes: ${n.likes}</p>
            <p class="info-item">Views: ${n.views}</p>
            <p class="info-item">Comments: ${n.comments}</p>
            <p class="info-item">Downloads: ${n.downloads}</p>
        `,e.appendChild(t),e.appendChild(s),o.appendChild(e)});const i={captionsData:"alt",closeText:"",navText:["←","→"],docClose:!0,history:!1,elementClass:"simple-lightbox",overlay:!0,spinner:!0,spinnerHtml:"<div class='slb-spinner'></div>",closeButton:!0,closeButtonHtml:"<span class='slb-close-button'></span>",loop:!1,bindToItems:!0,disableRightClick:!0,enableZoom:!1,beforeOpen:()=>{document.body.style.overflow="hidden"},afterClose:()=>{document.body.style.overflow=""}};u?u.refresh():u=new C("#gallery a",i)}let d="",p=1;const g="43152327-599555690163c4dbf744e6761",a=document.getElementById("loadMoreBtn"),l=document.getElementById("loader"),m=document.getElementById("gallery");a.style.display="none";a.addEventListener("click",async()=>{try{const r=await y(d,g,++p);r.hits.length===0?(a.style.display="none",c.info({title:"Info",message:"We're sorry, but you've reached the end of search results.",position:"topCenter"})):(f(r.hits),b(h()*2))}catch(r){console.error(r)}});document.getElementById("searchForm").addEventListener("submit",async r=>{if(r.preventDefault(),m.innerHTML="",l.style.display="block",d=document.getElementById("searchInput").value.trim(),d===""){l.style.display="none",m.innerHTML="",c.error({title:"Alert",message:"Please enter a value.",position:"topCenter"});return}try{p=1;const o=await y(d,g,p);o.hits.length===0?(l.style.display="none",c.info({title:"Info",message:"Sorry, there are no images matching your search query. Please try again!",position:"topCenter"}),a.style.display="none"):(l.style.display="none",f(o.hits),o.totalHits<=p*15?(a.style.display="none",c.info({title:"Info",message:"We're sorry, but you've reached the end of search results.",position:"topCenter"})):a.style.display="block",b(h()*2))}catch(o){l.style.display="none",m.innerHTML="",c.error({title:"Error",message:o.message,position:"topCenter"})}});function h(){return m.querySelector(".image-container").getBoundingClientRect().height}function b(r,o=500){const i=window.scrollY,n=i+r,e=performance.now();function t(){const s=(performance.now()-e)/o;s<1?(window.scrollTo(0,i+r*s),requestAnimationFrame(t)):window.scrollTo(0,n)}requestAnimationFrame(t)}
//# sourceMappingURL=commonHelpers.js.map
